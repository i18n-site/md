# .i18n/conf.yml

Файл конфигурации для `i18n.site` равен `.i18n/conf.yml` , а его содержимое следующее :

```yaml
i18n:
  fromTo:
    en:
upload:
  ext:
    - md
nav:
  - i18n: home
    use: Toc
    url: /
  - i18n: doc
    menu: NB demo1,demo2
    use: Doc
  - i18n: blog
    use: Blog
addon:
  - i18n.addon/toc
```

Среди них `upload` до `ext:` элемента конфигурации означает, что при публикации будут загружены только `.md` .

## Верхняя Навигация

`nav:` вариантов конфигурации, соответствующих меню навигации в верхней части главной страницы.

<img src="//p.3ti.site/1721051426.avif" style="width:320px">

Среди них `i18n: home` соответствует `home: Home` в `en/i18n.yml` (где `en` — исходный язык перевода проекта).

Содержимое `en/i18n.yml` — это текст, отображаемый в меню навигации, который в конфигурации будет переведен в соответствии с `fromTo` , например, переведен в `zh/i18n.yml` .

<img src="//p.3ti.site/1721051689.avif" style="width:320px">

После завершения перевода вы можете изменить значение перевода `yml` , но не добавлять и не удалять ключ перевода `yml` .

### `use: Toc` Документа Со Структурой

`nav` :

```
  - i18n: home
    use: Toc
    url: /
```

`use: Toc` означает рендеринг с использованием шаблона `Toc` , который отображает один шаблон `Markdown` .

`TOC` — это сокращение от `Table of Contents` При визуализации этого шаблона контур этого файла `Markdown` будет отображаться на боковой панели.

`url:` представляет путь к файлу `Markdown` ( `/` соответствует корневому каталогу `/README.md` , для этого имени файла требуется префикс в верхнем регистре и суффикс в нижнем регистре).

### `use: Md` Документа Без Схемы

Шаблоны `Md` и `Toc` одинаковы, и оба используются для рендеринга одного файла `Markdown` . Но шаблон `Md` не отображает контур на боковой панели.

Вы можете изменить `use: Toc` в приведенной выше конфигурации на `use: Md` , снова запустить `i18n.site` в каталоге `md` , а затем посетить URL-адрес предварительного просмотра разработки, чтобы увидеть изменения на домашней странице.

### `use: Blog` Шаблонов Блогов

Шаблон блога отображает список статей (названия и аннотации) в порядке времени публикации.

[→ Нажмите здесь, чтобы узнать о конкретной конфигурации](/i18n.site/conf/blog)

### `use: Doc` Шаблонов Файловых Документов

В файле конфигурации:

```
  - i18n: doc
    menu: NB demo1,demo2
    use: Doc
```

Указывает использование `Doc` для рендеринга шаблона.

Шаблон `Doc` поддерживает интеграцию нескольких `MarkDown` для создания структур документов для одного или нескольких проектов.

#### Несколько Проектов И Несколько Файлов

Конфигурация `.i18n/conf.yml` в `i18n:doc` — это режим многопроектного многофайлового рендеринга.

Здесь `menu: NB demo1,demo2` означает использование шаблона `NB` для отображения раскрывающегося меню.

<img src="//p.3ti.site/1721275191.avif" width="320px">

`NB` , что является сокращением от `Name Breif` , означает, что в раскрывающемся меню может отображаться название и слоган проекта.

За `NB` следует передаваемый ему параметр `demo1,demo2` .

Примечание : ** До и после запятой `,` в `demo1,demo2` не должно быть пробелов ** .

Соответствующий индексный файл каталога для вышеуказанных параметров:

* `en/demo1/TOC`
* `en/demo2/TOC`

#### Один Проект, Несколько Файлов

Если у вас только один проект, вы можете настроить его следующим образом.

```
  - i18n: doc
    url: flashduty
    use: Doc
```

> [!WARN]
> Один проект с несколькими файлами не поддерживает настройку `url` в качестве корневого пути `/`
> Если __conf.yml → nav:__ Корневой путь не настроен, при доступе к домашней странице веб-сайта он будет автоматически перезаписан на первый URL-адрес в конфигурации `nav:` .
> Этот дизайн предназначен для лучшего различения проектных документов, блогов и другого контента в каталогах.
> В качестве домашней страницы рекомендуется использовать один файл и одну страницу.

> [!TIP]
> Если `url` не записан, `url` по умолчанию принимает значение `i18n` Это правило действует и для других шаблонов.

#### Указатель Оглавления TOC

Если в конфигурации включен шаблон `use: Doc` , включите плагин `i18n.addon/toc` в `.i18n/conf.yml` Конфигурация следующая :

```yml
addon:
  - i18n.addon/toc
```

`i18n.site` автоматически установит и запустит этот плагин, прочитает `TOC` индексный файл каталога и создаст `json` структуру каталога.

Если это один проект с несколькими файлами, корневой каталог `TOC` — это каталог, соответствующий `url:` в каталоге исходного языка. Например, если исходный язык — китайский: файл, соответствующий `url: flashduty` — `zh/flashduty/TOC` .

Если это несколько проектов и несколько файлов, нет необходимости настраивать `url:` Корневым каталогом `TOC` является каталог, соответствующий значению `i18n` .

##### Подробное Объяснение Содержания

`en/blog/TOC` следующее :

```
README.md

news/README.md
  news/begin.md
```

##### Используйте Отступы Для Обозначения Уровней

`README.md` в первой строке из `en/blog/TOC` выше соответствует `i18n.site` на рисунке ниже, которая является названием проекта.

Следующие две строки показаны на скриншоте ниже.

<img src="https://p.3ti.site/1721097381.avif" style="width:320px">

`news/README.md` соответствует `News` ,
`news/begin.md` соответствует `Our Product is Online !`

`TOC` файлы имеют отступ, обозначающий иерархическую связь структуры, поддерживают многоуровневые отступы и комментарии к строкам, начинающиеся с `# ` .

##### Родительский Уровень Записывает Только Заголовок, А Не Содержимое.

При наличии нескольких уровней отступов родительский уровень записывает только заголовок, а не содержимое. В противном случае типографика будет испорчена.

##### Проект README.md

Содержимое можно записать в элементе `README.md` , например `en/demo2/README.md` .

Обратите внимание, что содержимое этого файла не представляет собой оглавление, поэтому рекомендуется ограничить его длину и написать краткое введение.

###### Слоган Проекта

Вы можете видеть, что `Deme Two` имеет слоган проекта под раскрывающимся меню и имя проекта структуры каталога `Your Project slogan` :

![](https://p.3ti.site/1721276842.avif)

Это соответствует первой строке `en/demo2/README.md` :

```
# Demo Two : Your Project slogan
```

Содержание после первого двоеточия `:` в заголовке первого уровня проекта `README.md` будет рассматриваться как слоган проекта.

Пользователям из Китая, Японии и Кореи обратите внимание, что вместо полноширинного двоеточия следует использовать полуширинное двоеточие `:` .

##### Как Переместить TOC Оптом?

`TOC` необходимо разместить в каталоге исходного языка.

Например, если исходным языком является китайский, то `TOC` выше равно `zh/blog/TOC` .

Если исходный язык изменен, вам необходимо пакетно переместить `TOC` файлов определенного языка в проекте на другой язык.

Вы можете обратиться к следующим командам:

```
rsync -av --remove-source-files --include='*/' \
--include='TOC' --exclude='*' en/ zh/
```

Пожалуйста, измените `en/` и `zh/` в приведенной выше команде на код вашего языка.

### Загрузка По Умолчанию Без Пути Конфигурации

Для определенного пути, к которому осуществляется доступ, если префикс пути не настроен в `nav:` , файл `MarkDown` , соответствующий пути, будет загружен по умолчанию и отображен с использованием шаблона `Md` .

Например, если осуществляется доступ `/test` , а `nav:` настроен без префикса этого пути, а текущий язык просмотра — английский (код `en` ), `/en/test.md` будет загружен по умолчанию и отображен с использованием шаблона `Md` .

Если `/en/test.md` этот файл не существует, будет отображена страница по умолчанию `404` .

<img src="//p.3ti.site/1721184299.avif" style="width:360px">