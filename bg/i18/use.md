# Инсталирайте И Използвайте

## windows Първо Инсталира git bash

windows Система, моля [, щракнете тук, за да изтеглите и инсталирате първо `git bash`](https://git-scm.com/download/win) .

Изпълнете следващите операции в `git bash` .

## Инсталирайте

```sh
bash <(curl -sS https://i.i18n.site) i18
```

### Конфигурирайте Токена За Превод

Посетете [i18n.site/token](//i18n.site/token) Щракнете, за да копирате токена

<img src="https://p.3ti.site/1719911689.avif" style="width:400px">

Създайте `~/.config/i18n.site.yml` , поставете копираното съдържание в него, съдържанието е както следва:

```
token: YOUR_API_TOKEN
```

Освен това трябва да обвържете кредитна карта за плащане в [i18n.site/payBill](//i18n.site/payBill) (Не се изисква презареждане, уебсайтът автоматично ще удържи таксите според използването, [вижте началната страница за ценообразуване](/#price) ).

## Използване

### Демо Проект

Моля, вижте демонстрационния проект [github.com/i18n-site/demo.i18](//github.com/i18n-site/demo.i18) за да научите конфигурацията на `i18` превода.

Потребителите в Китай могат да клонират [atomgit.com/i18n/demo.i18](//atomgit.com/i18n/demo.i18)

След клонирането влезте в директорията и стартирайте `i18` , за да завършите превода.

### Структура На Директория

Структурата на шаблонната складова директория е както следва

```
┌── .i18n
│  └── conf.yml
└── en
   ├── _IgnoreDemoFile.md
   ├── i18n.yml
   └── README.md
```

Преведените демонстрационни файлове в директория `en` са само примерни и могат да бъдат изтрити.

### Пуснете Превод

Влезте в директорията и стартирайте `i18` за превод.

В допълнение към превода, програмата ще генерира и папка `.i18n/data` , моля, добавете я към хранилището.

След превода на новия файл, в тази директория ще бъде генериран `git add . ` файл с данни.

## Конфигурационен Файл

`.i18n/conf.yml` е конфигурационният файл на инструмента за превод на командния ред `i18`

Съдържанието е както следва:

```
i18n:
  fromTo:
    en: zh ja ko de fr
    # en:

ignore:
  - _*
```

### Изходен Език & Език За Превод

В конфигурационния файл, подчиненият на `fromTo` :

`en` е изходният език, `zh ja ko de fr` е целевият език на превода.

Езиков код вижте [i18n.site/i18/LANG_CODE](https://i18n.site/i18/LANG_CODE)

Например, ако искате да преведете китайски на английски, пренапишете този ред `zh: en` .

Ако искате да превеждате на всички поддържани езици, моля, оставете празно след `:` . например

```
i18n:
  fromTo:
    en:
```

Можете да конфигурирате различни `fromTo` за различни поддиректории / Демонстрацията е написана по следния начин :

```
i18n:
  fromTo:
    en:
  path:
    blog:
      fromTo:
        zh:
    blog/your_file_name.md:
      fromTo:
        ja:
```

В тази конфигурационна таблица изходният език на превода на каталог `blog` е `zh` , а изходният език на превода на каталог `blog/your_file_name.md` е `ja` .

### Многоезични Изображения/Връзки

Когато URL адресите в картините и връзките в `replace:` и `MarkDown` (и атрибутите `src` и `href` на вградения `HTML` ) са конфигурирани в `.i18n/conf.yml` с този префикс, кодът на изходния език в URL адреса ще бъде заменен от езиковия код на превода ( [език списък с кодове](/i18/LANG_CODE) ).

Например вашата конфигурация е както следва:

```yml
i18n:
  fromTo:
    fr: ko de en zh zh-TW uk ru ja
  replace:
    https://fcdoc.github.io/img/ : ko de uk>ru zh-TW>zh >en
```

`replace: ` е речник, ключът е URL префиксът, който трябва да бъде заменен, а стойността е правилото за заместване.

Значението на замяната на правило `ko de uk>ru zh-TW>zh >en` по-горе е, че `ko de` използва картината на собствения си езиков код, `zh-TW` и `zh` използват картината на `zh` , `uk` използва картината на `ru` , а други езици (като `ja` ) използват картината от `en` по подразбиране.

Например френският ( `fr` ) изходен файл на `MarkDown` е както следва :

```md
![xx](https://i18n-img.github.io/fr/1.avif)
<video src="https://i18n-img.github.io/fr/1.mp4"></video>
[xx](https://i18n-img.github.io/fr/README.md)
<a style="color:red" href="https://i18n-img.github.io/fr/i18n.site.gz">xx</a>
```

Преведеният и генериран английски ( `en` ) файл е както следва :

```md
![xx](https://i18n-img.github.io/en/1.avif)
<video src="https://i18n-img.github.io/en/1.mp4"></video>
[xx](https://i18n-img.github.io/en/README.md)
<a style="color:red" href="https://i18n-img.github.io/en/i18n.site.gz">xx</a>
```

Тук `/en/` в кода на изходния език се заменят с `/zh/` в целевия език.

Забележка : Трябва да има `/` преди и след кода на езика на заменения текст в URL адреса.

> [!TIP]
> Ако `- /` е конфигуриран в `url:` , ще бъдат съпоставени само относителни пътища, но URL адреси, започващи с `//` няма да бъдат съпоставени.
>
> Ако някои връзки от име на домейн искат да бъдат заменени, а други не искат да бъдат заменени, можете да използвате различни префикси като `[x](//x.com/en/)` и `[x](https://x.com/en/)` за да ги разграничите.

### Игнорирайте Файла

По подразбиране всички файлове, започващи с `.md` и `.yml` в директорията на изходния език, ще бъдат преведени.

Ако искате да игнорирате определени файлове и да не ги превеждате (като недовършени чернови), можете да го конфигурирате с полето `ignore` .

`ignore` използва [globset](https://docs.rs/globset/latest/globset/#syntax) синтаксис като `.gitignore` файл.

Например `_* ` в горния конфигурационен файл означава, че файлове, започващи с `_` няма да бъдат преведени.

## Правила За Превод

### Редакторите На Преводи Не Трябва Да Добавят Или Изтриват Редове

Преводът може да се редактира. Променете оригиналния текст и го преведете машинно отново, ръчните модификации на превода няма да бъдат презаписани (ако този параграф от оригиналния текст не е бил променен).

> [!WARN]
> Трябва да има едно към едно съответствие между редовете на превода и оригиналния текст. Тоест, не добавяйте или изтривайте редове, когато компилирате превода. В противен случай това ще доведе до объркване в кеша за редактиране на превода.

Ако нещо се обърка, моля, вижте [ЧЗВ за решения.](/i18/qa#H1)

### `YAML` Превода

Инструментът за команден ред ще намери всички файлове, завършващи с `.yml` в директорията на изходния език и ще ги преведе.

* Имайте предвид, че суфиксът на името на файла трябва да бъде `.yml` (а не `.yaml` ).

Инструментът превежда само стойностите на речника в `.yml` , а не ключовете на речника.

Например `i18n/en/i18n.yml`

```
apiToken: API Token
defaultToken: Default Token
```

ще се преведе като `i18n/zh/i18n.yml`

```
apiToken: 接口令牌
defaultToken: 默认令牌
```

Преводът на `YAML` може също да бъде модифициран ръчно (но не добавяйте или изтривайте ключове или редове в превода).

Въз основа на `YAML` превода можете лесно да създавате международни решения за различни езици за програмиране.

## Разширено Използване

### Поддиректория За Превод

Докато `.i18n/conf.yml` е създаден (няма нужда да започвате от шаблон за демо проект всеки път), `i18` ще работи добре.

Инструментът за команден ред ще намери `.i18n/conf.yml` конфигурации във всички поддиректории и ще ги преведе.

Проекти, които използват [monorepo](//monorepo.tools) архитектура, могат да разделят езиковите файлове на поддиректории.

![](https://p.3ti.site/1719910016.avif)

### Персонализирана Инсталационна Директория

Той ще бъде инсталиран на `/usr/local/bin` по подразбиране.

Ако `/usr/local/bin` няма разрешение за запис, той ще бъде инсталиран на `~/.bin` .

Задаването на променлива на средата `TO` може да дефинира инсталационната директория, например :

```sh
TO=/bin sudo bash <(curl -sS https://i.i18n.site) i18
```