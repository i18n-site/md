# نصب و استفاده کنید

## ویندوز ابتدا git bash را نصب کنید

لطفاً windows [برای دانلود و نصب `git bash` اینجا را کلیک کنید](https://git-scm.com/download/win) .

عملیات بعدی را در `git bash` اجرا کنید.

## نصب کنید

```sh
bash <(curl -sS https://i.i18n.site) i18
```

### پیکربندی نشانه ترجمه

برای [i18n.site/token](//i18n.site/token) کردن توکن کلیک کنید

<img src="https://p.3ti.site/1719911689.avif" style="width:400px">

`~/.config/i18n.site.yml` را ایجاد کنید، محتوای کپی شده را در آن قرار دهید، محتوا به شرح زیر است:

```
token: YOUR_API_TOKEN
```

علاوه بر این [i18n.site/payBill](//i18n.site/payBill) شما باید یک کارت اعتباری پرداخت کنید (بدون نیاز به شارژ مجدد، وب سایت به طور خودکار هزینه ها را با توجه به استفاده کسر می کند، [برای قیمت گذاری به صفحه اصلی مراجعه کنید](/#price) ).

## استفاده کنید

### پروژه نمایشی

لطفاً برای یادگیری پیکربندی ترجمه `i18` به پروژه آزمایشی مراجعه کنید [github.com/i18n-site/demo.i18](//github.com/i18n-site/demo.i18)

کاربران در چین می توانند کلون کنند [atomgit.com/i18n/demo.i18](//atomgit.com/i18n/demo.i18)

پس از کلونینگ وارد دایرکتوری شده و `i18` اجرا کنید تا ترجمه کامل شود.

### ساختار دایرکتوری

ساختار دایرکتوری انبار قالب به شرح زیر است

```
┌── .i18n
│  └── conf.yml
└── en
   ├── _IgnoreDemoFile.md
   ├── i18n.yml
   └── README.md
```

فایل های نمایشی ترجمه شده در دایرکتوری `en` فقط یک نمونه هستند و قابل حذف هستند.

### ترجمه را اجرا کنید

دایرکتوری را وارد کنید و `i18` برای ترجمه اجرا کنید.

علاوه بر ترجمه، برنامه پوشه `.i18n/data` را نیز تولید می کند، لطفاً آن را به مخزن اضافه کنید.

پس از ترجمه فایل جدید، یک فایل داده جدید در این فهرست ایجاد می `git add . ` .

## فایل پیکربندی

`.i18n/conf.yml` فایل پیکربندی ابزار ترجمه خط فرمان `i18` است

مطالب به شرح زیر است:

```
i18n:
  fromTo:
    en: zh ja ko de fr
    # en:

ignore:
  - _*
```

### زبان مبدأ &

در فایل پیکربندی، تابع `fromTo` :

`en` زبان مبدأ، `zh ja ko de fr` زبان مقصد ترجمه است.

کد زبان را ببینید [i18n.site/i18/LANG_CODE](https://i18n.site/i18/LANG_CODE)

به عنوان مثال، اگر می خواهید چینی را به انگلیسی ترجمه کنید، این خط را `zh: en` بازنویسی کنید.

اگر میخواهید به همه زبانهای پشتیبانیشده ترجمه کنید، لطفاً بعد از `:` آن را خالی بگذارید. به عنوان مثال

```
i18n:
  fromTo:
    en:
```

شما می توانید `fromTo` مختلف : برای زیر شاخه های مختلف پیکربندی کنید /

```
i18n:
  fromTo:
    en:
  path:
    blog:
      fromTo:
        zh:
    blog/your_file_name.md:
      fromTo:
        ja:
```

در این جدول پیکربندی، زبان مبدأ ترجمه کاتالوگ `blog` `zh` و زبان مبدأ ترجمه کاتالوگ `blog/your_file_name.md` `ja` است.

### تصاویر/پیوندهای چند زبانه

وقتی URLهای موجود در تصاویر و پیوندهای `replace:` و `MarkDown` (و ویژگی های `src` و `href` تعبیه شده `HTML` ) در `.i18n/conf.yml` با این پیشوند پیکربندی شوند، کد زبان مبدأ در URL با کد زبان ترجمه ( [زبان)](/i18/LANG_CODE) جایگزین می شود. [لیست کد](/i18/LANG_CODE) ).

به عنوان مثال، تنظیمات شما به صورت زیر است:

```yml
i18n:
  fromTo:
    fr: ko de en zh zh-TW uk ru ja
  replace:
    https://fcdoc.github.io/img/ : ko de uk>ru zh-TW>zh >en
```

`replace: ` یک فرهنگ لغت است، کلید پیشوند URL است که باید جایگزین شود و مقدار آن قانون جایگزینی است.

معنی جایگزینی قانون `ko de uk>ru zh-TW>zh >en` در بالا این است که `ko de` از تصویر کد زبان خود استفاده می کند، `zh-TW` و `zh` از تصویر `zh` استفاده می کنند، `uk` از تصویر `ru` استفاده می کنند، و زبان های دیگر (مانند `ja` ) از تصویر استفاده می کنند. از `en` به طور پیش فرض

به عنوان مثال، فایل منبع فرانسوی ( `fr` ) `MarkDown` به شرح زیر است :

```md
![xx](https://i18n-img.github.io/fr/1.avif)
<video src="https://i18n-img.github.io/fr/1.mp4"></video>
[xx](https://i18n-img.github.io/fr/README.md)
<a style="color:red" href="https://i18n-img.github.io/fr/i18n.site.gz">xx</a>
```

فایل ترجمه شده و تولید شده انگلیسی ( `en` ) به شرح زیر است :

```md
![xx](https://i18n-img.github.io/en/1.avif)
<video src="https://i18n-img.github.io/en/1.mp4"></video>
[xx](https://i18n-img.github.io/en/README.md)
<a style="color:red" href="https://i18n-img.github.io/en/i18n.site.gz">xx</a>
```

در اینجا، `/en/` در کد زبان مبدأ با `/zh/` در زبان مقصد جایگزین می شود.

توجه داشته : قبل و بعد از کد زبان متن جایگزین شده در URL باید `/` وجود داشته باشد.

> [!TIP]
> اگر `- /` در `url:` پیکربندی شود، فقط مسیرهای نسبی مطابقت خواهند داشت، اما URL هایی که با `//` شروع می شوند مطابقت نخواهند داشت.
>
> اگر برخی از پیوندهای نام دامنه می خواهند جایگزین شوند و برخی دیگر نمی خواهند جایگزین شوند، می توانید از پیشوندهای مختلفی مانند `[x](//x.com/en/)` و `[x](https://x.com/en/)` برای تشخیص آنها استفاده کنید.

### نادیده گرفتن فایل

به طور پیش فرض، تمام فایل هایی که با `.md` و `.yml` در فهرست زبان مبدأ شروع می شوند، ترجمه خواهند شد.

اگر می خواهید فایل های خاصی را نادیده بگیرید و آنها را ترجمه نکنید (مانند پیش نویس های ناتمام)، می توانید آن را با فیلد `ignore` پیکربندی کنید.

`ignore` از [globset](https://docs.rs/globset/latest/globset/#syntax) `.gitignore` استفاده می کند.

به عنوان مثال، `_* ` در فایل پیکربندی بالا به این معنی است که فایل هایی که با `_` شروع می شوند ترجمه نمی شوند.

## قوانین ترجمه

### ویراستاران ترجمه نباید خطوطی را اضافه یا حذف کنند

ترجمه قابل ویرایش است. متن اصلی را اصلاح کنید و دوباره آن را به صورت ماشینی ترجمه کنید، تغییرات دستی ترجمه بازنویسی نخواهد شد (اگر این پاراگراف از متن اصلی اصلاح نشده باشد).

> [!WARN]
> بین خطوط ترجمه و متن اصلی باید مطابقت یک به یک وجود داشته باشد. یعنی هنگام کامپایل ترجمه سطر اضافه یا حذف نکنید. در غیر این صورت باعث سردرگمی در حافظه پنهان ویرایش ترجمه می شود.

اگر مشکلی پیش آمد، لطفاً [برای راه حل ها به سؤالات متداول مراجعه کنید.](/i18/qa#H1)

### `YAML` ترجمه

ابزار خط فرمان همه فایلهایی را که با `.yml` ختم میشوند در فهرست فایل زبان مبدأ پیدا کرده و آنها را ترجمه میکند.

* توجه داشته باشید که پسوند نام فایل باید `.yml` باشد (نه `.yaml` ).

این ابزار فقط مقادیر فرهنگ لغت را به `.yml` ترجمه می کند، نه کلیدهای فرهنگ لغت.

به عنوان مثال `i18n/en/i18n.yml`

```
apiToken: API Token
defaultToken: Default Token
```

`i18n/zh/i18n.yml` ترجمه خواهد شد

```
apiToken: 接口令牌
defaultToken: 默认令牌
```

ترجمه `YAML` را نیز می توان به صورت دستی تغییر داد (اما کلیدها یا خطوط را در ترجمه اضافه یا حذف نکنید).

بر اساس ترجمه `YAML` ، می توانید به راحتی راه حل های بین المللی برای زبان های برنامه نویسی مختلف بسازید.

## استفاده پیشرفته

### زیرمجموعه ترجمه

تا زمانی که `.i18n/conf.yml` ایجاد شود (نیازی نیست هر بار از قالب پروژه آزمایشی شروع کنید)، `i18` به خوبی کار خواهد کرد.

ابزار خط فرمان `.i18n/conf.yml` پیکربندی را در همه زیر شاخه ها پیدا کرده و آنها را ترجمه می کند.

پروژه هایی که از [monorepo](//monorepo.tools) استفاده می کنند می توانند فایل های زبان را به زیر شاخه ها تقسیم کنند.

![](https://p.3ti.site/1719910016.avif)

### دایرکتوری نصب سفارشی

به طور پیش فرض روی `/usr/local/bin` نصب می شود.

اگر `/usr/local/bin` مجوز نوشتن نداشته باشد روی `~/.bin` نصب می شود.

تنظیم متغیر محیطی `TO` می تواند دایرکتوری نصب را تعریف کند، به عنوان مثال :

```sh
TO=/bin sudo bash <(curl -sS https://i.i18n.site) i18
```