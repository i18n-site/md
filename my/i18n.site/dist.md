# ဖြန့်ကျက်ခြင်းနှင့် အွန်လိုင်း

`i18n.site` [စာမျက်နှာတစ်ခုတည်း အက်ပလီကေးရှင်း](https://developer.mozilla.org/docs/Glossary/SPA) တည်ဆောက်ပုံကို လက်ခံပြီး ဝဘ်ဆိုက်ဝင်ပေါက် စာမျက်နှာနှင့် ဝဘ်ဆိုက်အကြောင်းအရာကို လွတ်လပ်စွာ အသုံးချသည်။

အထက်ဖော်ပြပါ ဘာသာပြန်ခြင်းကို လုပ်ဆောင်ပြီးနောက်၊ လမ်းညွှန် `htm` နှင့် `v` ကို `md/out/dev` လမ်းညွှန်အောက်တွင် ထုတ်ပေးပါမည်။

ဤတွင်၊ `dev` `.i18n/htm/dev.yml` configuration file ကိုအခြေခံ၍ တည်ဆောက်ထားသည်ကို ဆိုလိုသည်။

`dev` :

`htm` လမ်းညွှန်သည် ဝဘ်ဆိုက်ဝင်ပေါက် စာမျက်နှာဖြစ်သည်။

`v` လမ်းညွှန်တွင် ဗားရှင်းနံပါတ်များဖြင့် ဝဘ်ဆိုဒ်အကြောင်းအရာ ပါရှိသည်။

Local preview သည် ဗားရှင်းနံပါတ်ကို ဂရုမစိုက်ဘဲ ဖိုင်အားလုံးကို `out/dev/v/0.1.0` directory သို့ ကူးယူမည်ဖြစ်သည်။

တရားဝင်ထုတ်ဝေမှုအတွက်၊ ပြောင်းလဲထားသောဖိုင်များကို ဗားရှင်းနံပါတ်လမ်းညွှန်သို့ ကူးယူပါမည်။

## `-c` ဖြင့် ဖွဲ့စည်းမှုဖိုင်ကို သတ်မှတ်ပါ။

မတူညီသောဖွဲ့စည်းပုံဖိုင်များသည် `out` directory တွင် သက်ဆိုင်ရာ လမ်းညွှန်များကို ဖန်တီးပေးလိမ့်မည်။

ဥပမာအားဖြင့် `.i18n/htm/main.yml` `out/main` directory ကိုဖန်တီးလိမ့်မည်။

`dev.yml` နှင့် `main.yml` တို့သည် ပုံသေဖွဲ့စည်းပုံများဖြစ်သည်။

`dev` သည် `development` ၏ အတိုကောက်ဖြစ်ပြီး၊ ဖွံ့ဖြိုးတိုးတက်မှုပတ်ဝန်းကျင်ကို ညွှန်ပြသော၊ ဒေသန္တရအကြိုကြည့်ရှုမှုအတွက် အသုံးပြုသည့်၊ ၎င်းသည် ပုံသေဖွဲ့စည်းပုံဖိုင်လည်းဖြစ်သည်။
`ol` သည် `online` ၏ အတိုကောက်ဖြစ်ပြီး တရားဝင်ထုတ်လွှတ်ရန်အတွက် အသုံးပြုသည့် အွန်လိုင်းပတ်ဝန်းကျင်ကို ညွှန်ပြသည့် ၎င်းသည် ထုတ်ဝေရန်အတွက် command line parameters `-n` မှ `npm` ကိုအသုံးပြုသည့်အခါ ပုံသေဖွဲ့စည်းမှုဖိုင်လည်းဖြစ်သည်။

အသုံးပြုရန် configuration file name ကို သတ်မှတ်ရန် အခြား configuration files များကိုလည်း သင် ဖန်တီး `--htm_conf` ။

ဥပမာအားဖြင့်:
```
i18n.site --htm_conf dist --save
```

ဤနေရာတွင် `--save` အပ်ဒိတ်ထုတ်ဝေမှုဗားရှင်းနံပါတ်ကို ကိုယ်စားပြုသည်။

## <a rel=id href="#npm" id="npm"></a> အကြောင်းအရာကို npmjs.com သို့ လွှင့်တင်ပါ။

အကြောင်းအရာကို ထုတ်ဝေခြင်းသည် အကြံပြုထားသော မူရင်းဖြေရှင်းချက် [npmjs.com](//npmjs.com) ( [Front-end High Availability ကို](/i18n.site/feature#ha) ကြည့်ပါ)။

### npm & Post ကို ဝင်ပါ။

`nodejs` ထည့်သွင်းပါ၊ `npm login` ဖြင့်ဝင်ရောက်ပါ။

`md/.i18n/htm/main.yml` တည်းဖြတ်ပြီး [`md:`](//github.com/i18n-site/demo.i18n.site/blob/main/.i18n/htm/main.yml#L7) `YOUR_NPM_PACKAGE` ၏တန်ဖိုးကို သင့်ကိုယ်ပိုင် `npm` ပက်ကေ့ချ်အမည်အဖြစ် ဖွင့် [npmjs.com](//npmjs.com) ။

ပြီးရင် `md/.i18n/htm/main.package.json` modify လုပ်ပါ။

ဘာသာပြန်ရန်နှင့် ထုတ်ဝေရန် `md` လမ်းညွှန်တွင် `i18n.site --npm` သို့မဟုတ် `i18n.site -n` ဖွင့်ပါ။

ထုတ်ဝေရန် စဉ်ဆက်မပြတ် ပေါင်းစပ်ပတ်ဝန်းကျင်ကို သင်အသုံးပြုပါက `nodejs` ထည့်သွင်းရန် မလိုအပ်ပါ။ အကောင့်ဝင်ပြီး ထုတ်ဝေခြင်းခွင့်ပြုချက်များကို `~/.npmrc` ပတ်ဝန်းကျင်သို့ ကူးယူလိုက်ရုံပါပဲ။

`main.yml` တွင် `v:` ခု၏ ပက်ကေ့ဂျ်အမည်ကို မွမ်းမံပါ **က `.i18n/v/main` အရင်ဖျက်ပြီး ထုတ်ဝေရန် သေချာပါစေ** ။

#### npm မှထုတ်ဝေသော ပရောက်စီဆာဗာ

တရုတ်ပြည်မကြီးရှိ သုံးစွဲသူများသည် ကွန်ရက်ပြဿနာများနှင့် ကြုံတွေ့ရပြီး `npm` ပက်ကေ့ဂျ်များကို မထုတ်ဝေနိုင်ပါက၊ ၎င်းတို့သည် ပရောက်စီဆာဗာကို configure လုပ်ရန် ပတ်၀န်းကျင် ပြောင်းလဲနိုင်သော ပုံစံ `https_proxy` သတ်မှတ်နိုင်သည်။

သင်၏ proxy server port သည် `7890` ဟု ယူဆပါက၊ သင်သည် ရေးနိုင်သည်-

```
https_proxy=http://127.0.0.1:7890 i18n.site -n
```

## ကိုယ်တိုင်လက်ခံထားသော အကြောင်းအရာ

အကြောင်းအရာကို ကိုယ်တိုင်လက်ခံဆောင်ရွက်ပေးလိုပါက ပထမဦးစွာ `md/.i18n/htm/main.yml` တည်းဖြတ်ပြီး `v: //unpkg.com/i18n.site` သင်၏ URL ရှေ့ဆက်ဖြစ်သည့် `v: //i18n-v.xxx.com` သို့ပြောင်းပါ။

`md` directory ကိုရိုက်ထည့်ပြီး run လိုက်ပါ။

```
i18n.site --htm_conf ol --save
```

သို့မဟုတ် အတိုကောက်

```
i18n.site -c ol -s
```

ထို့နောက်၊ `v:` တွင်သတ်မှတ်ထားသော `md/out/main/v` directory မှအကြောင်းအရာကို URL ရှေ့ဆက်လမ်းကြောင်းသို့ configure လုပ်ပါ။

နောက်ဆုံးတွင်၊ **`/.v` မှ `1s` ဖြင့်အဆုံးသတ်သောလမ်းကြောင်း၏ cache အချိန်ကို configure လုပ်ပါ** ၊ သို့မဟုတ်ပါက အသစ်ထွက်ရှိထားသောအကြောင်းအရာကို ချက်ချင်းဝင်ရောက်၍မရပါ။

မလိုအပ်သော တောင်းဆိုမှုများကို လျှော့ချရန် အခြားလမ်းကြောင်းများအတွက် ကက်ရှ်အချိန်ကို တစ်နှစ် သို့မဟုတ် ထို့ထက်ပို၍ သတ်မှတ်နိုင်သည်။

## အကြောင်းအရာကို s3 သို့ လက်ခံပါ။

ကိုယ်တိုင်လက်ခံကျင်းပသည့်အကြောင်းအရာအတွက်၊ သင့်ကိုယ်ပိုင်ဆာဗာကိုအသုံးပြုခြင်းအပြင် အခြားဘုံရွေးချယ်မှုမှာ `S3` + `CDN` အသုံးပြုရန်ဖြစ်သည်။

`S3` ဆာဗာသို့ လော့ဂ်အင်ဝင်ရန် [rclone](https://rclone.org) ထို့နောက် အောက်ပါ script ကို ကိုးကားပြီး ပြုပြင်မွမ်းမံကာ ထုတ်ဝေမှုတစ်ခုစီအတွက် တိုးမြင့်ပြောင်းလဲမှုများကို `S3` သို့သာ ကူးယူနိုင်ပါသည်။

```bash
i18n.site -c ol -s
s3=your-s3
bucket=your-bucket
ver=$(head -1 .i18n/v/main/v.hash | cut -c 2-)
rclone copy --overwrite-dir out/main/htm/v/$ver $s3:/$bucket/$ver
rclone copy out/main/v/.v "$s3:/$bucket/"
```

`/.v` တွင်အဆုံးသတ်သည့်လမ်းကြောင်း၏ ကက်ရှ်အချိန်သည် `1s` ဖြစ်စေရန် `CDN` configure လုပ်ရန် မမေ့ပါနှင့်၊ သို့မဟုတ်ပါက အသစ်ထွက်ရှိထားသော အကြောင်းအရာကို ချက်ချင်းဝင်ရောက်၍မရပါ။

## ဝဘ်ဆိုဒ်ကိုလွှင့်တင်ပါ။

ဝဘ်ဆိုဒ်ကို နေရာတိုင်းတွင် ဖြန့ [github page](https://pages.github.com) ကျက်အသုံးပြုနိုင်ပြီး [cloudflare page](https://pages.cloudflare.com) သည် ရွေးချယ်မှုကောင်းများဖြစ်သည်။

ဝဘ်ဆိုက်သည် [စာမျက်နှာတစ်ခုတည်း အပလီကေးရှင်း](https://developer.mozilla.org/docs/Glossary/SPA) တည်ဆောက်ပုံကို အသုံးပြုသောကြောင့်၊ `. ` မှ `index.html` မပါသော URL လမ်းကြောင်းများကို ပြန်လည်ရေးရန် မမေ့ပါနှင့်။

ဝဘ်ဆိုက် ဝင်ရောက်မှု စာမျက်နှာကို တစ်ကြိမ်သာ အသုံးပြုရန် လိုအပ်ပြီး နောက်ဆက်တွဲ အကြောင်းအရာ အပ်ဒိတ်များအတွက် ဝဘ်ဆိုက် ဝင်ရောက်မှု စာမျက်နှာကို ပြန်လည် အသုံးပြုရန် မလိုအပ်ပါ။

### github စာမျက်နှာတွင် အသုံးပြုပါ။

[အဖွဲ့အစည်းတစ်ခုဖန်တီးရန် ဤနေရာကို github](https://github.com/account/organizations/new?plan=free) ။ အောက်ပါအဖွဲ့အစည်းအမည်သည် `i18n-demo` ဖြစ်သည်။

ထို့နောက် ဤအဖွဲ့အစည်းအောက်တွင် `i18n-demo.github.io` ဂိုဒေါင်ကို ဖန်တီးပါ (ကျေးဇူးပြု၍ `i18n-demo` သင်ဖန်တီးထားသော အဖွဲ့အစည်းအမည်ဖြင့် အစားထိုးပါ)

![](https://p.3ti.site/1721098657.avif)

ယခင်ဆောင်းပါးတွင် အကြောင်းအရာကို ထုတ်ဝေသည့်အခါ `out/main/htm` ထုတ်ပေးပြီး ကျေးဇူးပြု၍ ဤလမ်းညွှန်ကို ထည့်သွင်းပြီး လုပ်ဆောင်ပါ :

```
ln -s index.html 404.html
```


`github page` URL လမ်းကြောင်းပြန်လည်ရေးသားခြင်းကို မပံ့ပိုးနိုင်သောကြောင့် 1 အစား `404.html` ကိုအသုံးပြုသည်။

ထို့နောက် `htm` directory တွင် အောက်ပါ command ကို run ( `i18n-demo/i18n-demo.github.io.git` သင့်ကိုယ်ပိုင် warehouse address ဖြင့် အစားထိုးရန် သတိရပါ) :

```
git init
git branch -M main
git remote add origin git@github.com:i18n-demo/i18n-demo.github.io.git
git push -u origin main -f
```

ကုဒ်ကို တွန်းထုတ်ပြီးနောက်၊ သင် ၎င်းကို မဝင်ရောက်မီ `github page` ၏ ဖြန့်ကျက်မှုကို အောင်မြင်စွာ လုပ်ဆောင်ရန် (အောက်တွင် ပြထားသည့်အတိုင်း) ကို စောင့်ပါ။

<img src="//p.3ti.site/1721116586.avif" width="350px">

သရုပ်ပြစာမျက်နှာကို ကြည့်ရှုရန်-

[https://i18n-demo.github.io](https://i18n-demo.github.io)

### cloudflare စာမျက်နှာတွင် အသုံးပြုပါ။

`github page` နှင့် နှိုင်းယှဉ်ပါက [cloudflare page](//pages.cloudflare.com) ၎င်းသည် ပြန်လည်ရေးသားခြင်းလမ်းကြောင်းကို ထောက်ပံ့ပေးပြီး တရုတ်ပြည်မကြီးနှင့် ပိုမိုရင်းနှီးပြီး အသုံးပြုရန် အကြံပြုထားသည်။

`cloudflare page` ၏ ဖြန့်ကျက်မှုသည် များသောအားဖြင့် အထက်ဖော်ပြပါ `github page` ၏ ဖြန့်ကျက်မှုအပေါ် အခြေခံသည်။

ပရောဂျက်တစ်ခုဖန်တီးပြီး အပေါ်က `i18n-demo.github.io` ဂိုဒေါင်ကို စည်းပါ။

လုပ်ငန်းစဉ်ကို အောက်ပါပုံတွင် ပြထားသည်။
![](https://p.3ti.site/1721117897.avif)
![](https://p.3ti.site/1721118239.avif)

အဖွဲ့အစည်း `i18n-demo` ကို ဝင်ရောက်ခွင့်ပေးရန် `Add Account` နှိပ်ပါ။

အကယ်၍ သင်သည် အခြားအဖွဲ့အစည်းတစ်ခု၏ ဂိုဒေါင်ကို ချည်နှောင်ထားပါက၊ အဖွဲ့အစည်းအသစ်ကို မပြသမီ နှစ်ကြိမ်လုပ်ပိုင်ခွင့်ပေးရန် `Add Account` နှစ်ကြိမ် နှိပ်ရန် လိုအပ်နိုင်သည်။

![](https://p.3ti.site/1721118306.avif)

ထို့နောက်၊ warehouse `i18n-demo.github.io` ကိုရွေးပါ၊ ထို့နောက် `Begin setup` နှိပ်ပါ၊ နောက်ဆက်တွဲအဆင့်များအတွက် ပုံသေတန်ဖိုးများကို အသုံးပြုပါ။

![](https://p.3ti.site/1721118490.avif)

ပထမဆုံးအကြိမ် စည်းနှောင်ပြီးနောက်၊ သင်သည် ၎င်းကိုဝင်ရောက်ခွင့်မပြုမီ မိနစ်အနည်းငယ်စောင့်ရပါမည်။

ဖြန့်ကျက်ပြီးနောက်၊ သင်သည် စိတ်ကြိုက်ဒိုမိန်းအမည်တစ်ခုကို ချိတ်နိုင်သည်။

![](https://p.3ti.site/1721119459.avif)

စိတ်ကြိုက်ဒိုမိန်းအမည်ကို တွဲချိတ်ပြီးနောက်၊ အောက်တွင်ဖော်ပြထားသည့်အတိုင်း စာမျက်နှာတစ်မျက်နှာအပလီကေးရှင်း၏ လမ်းကြောင်းကို ပြန်လည်ရေးသားခြင်းအား ပြင်ဆင်သတ်မှတ်ရန် ဒိုမိန်းအမည်သို့ သွားပါ။

![](https://p.3ti.site/1721119320.avif)

အထက်ဖော်ပြပါပုံပါ စည်းမျဉ်းများသည် အောက်ပါအတိုင်းဖြစ်ပြီး ကျေးဇူးပြု၍ သင်ချည်နှောင်ထားသော ဒိုမိန်းအမည်ဖြင့် အောက်ပါပထမစာကြောင်းတွင် `i18n.site` အစားထိုးပါ။

```
(http.host in {"i18n.site"}) and not (
substring(http.request.uri.path,-3) in {".js" ".gz"} or
substring(http.request.uri.path,-4) in {".htm" ".rss" ".css" ".svg" ".ico" ".png" ".xml" ".txt"} or
substring(http.request.uri.path,-5) in {".html" ".avif" ".json"} or
ends_with(http.request.uri.path,".webmanifest")
)
```

ထို့အပြင်၊ ကျေးဇူးပြု၍ အောက်တွင်ဖော်ပြထားသည့်အတိုင်း ကက်ရှ်စည်းမျဉ်းများကို ပြင်ဆင်သတ်မှတ်ပြီး ကက်ရှ်ကြာချိန်ကို တစ်လအဖြစ် သတ်မှတ်ပါ။

![](https://p.3ti.site/1721125111.avif)

ကျေးဇူးပြု၍ အထက်ပုံပါ ဒုတိယအဆင့်တွင် ကိုက်ညီသော ဒိုမိန်းအမည်ကို သင်ချည်နှောင်ထားသော ဒိုမိန်းအမည်သို့ ပြောင်းလဲပါ။

### တရုတ်ပြည်မကြီးတွင် ဝဘ်ဆိုဒ်ဖြန့်ကျက်မှုကို အကောင်းဆုံးဖြစ်အောင်လုပ်ခြင်း။

တရုတ်ပြည်မကြီး၏ ကွန်ရက်ပတ်ဝန်းကျင်တွင် ပိုမိုကောင်းမွန်သော ဝင်ရောက်နိုင်မှုစွမ်းဆောင်ရည်ကို ရယူလိုပါက၊ [ဒိုမိန်းအမည်ကို ဦးစွာမှတ်ပုံတင်](//beian.aliyun.com) ပါ။

ထို့နောက် + မကြီးရှိ cloud ရောင်းချသူများ၏ အရာဝတ္ထုသိုလှောင်မှုကို အသုံးပြုပါ `CDN` အောက်ပါအကြောင်းအရာကို အသုံးချပါ `out/main/htm`

စာမျက်နှာတစ်ခုတည်းရှိ အပလီကေးရှင်းများနှင့် လိုက်လျောညီထွေဖြစ်စေရန် လမ်းကြောင်းကို ပြန်လည်ရေးသားရန် edge computing ကို အသုံးပြု၍ ဥပမာ [Baidu Smart Cloud `CDN` ကို](//cloud.baidu.com/product/cdn.html) ဤကဲ့သို့ configure လုပ်နိုင်ပါသည်။

```js
const uri = r.uri, p = uri.lastIndexOf(".");
if (
  p < 0 ||
  !"|js|css|htm|html|md|avif|json|ico|xml|rss|gz|mp4|png|svg|txt|webmanifest|".includes(
    "|" + uri.slice(p + 1) + "|",
  )
) {
  const ua = r.headersIn["User-Agent"].toLowerCase()
  if (/facebookexternalhit|slurp|bot|spider|curl/.test(ua)) {
    r.return(
      302,
      (/baidu|yisou|sogou|360|byte/.test(ua) ? "/zh" : "/en") + r.uri + ".htm",
    )
  } else {
    r.uri = "/index.html"
  }
}

r.respHeader(() => {
  const t = [], out = r.headersOut;
  ["Content-MD5", "Age", "Expires", "Last-Modified"].forEach(
    i => delete out[i]
  )
  r.rawHeadersOut.forEach(i => {
    const key = i[0].toLowerCase()
    if (key.startsWith("x-") || key.startsWith("ohc-")) {
      delete out[key]
    }
  })
  out["Cache-Control"] = "max-age=" + 9e5
  // တုံ့ပြန်မှု ခေါင်းစီးများကို out.XXX = 'MSG' ကဲ့သို့သော အမှားရှာအထွက်ထွက်အဖြစ် သတ်မှတ်နိုင်သည်။
})
```

![](https://p.3ti.site/1721121273.avif)

မှတ်တမ်း `MX` နှင့် record `CNAME` အတူမတည်ရှိနိုင်သောကြောင့်၊ သင်သည် ဒိုမိန်းအမည်အီးမေးလ်များကို တစ်ချိန်တည်းလက်ခံလိုပါက၊ အဆင့် `CNAME` သို့ record `A` သို့ [cname_flatten](https://github.com/i18n-site/lib/tree/main/cname_flatten) လိုအပ်ပါသည်။

ထို့အပြင်၊ တရုတ်ပြည်မကြီးရှိ cloud ရောင်းချသူများ၏ နိုင်ငံရပ်ခြားအသွားအလာ ကောက်ခံမှုများသည် အတော်လေးစျေးကြီးသောကြောင့် ကုန်ကျစရိတ်များကို ပိုမိုကောင်းမွန်အောင်ပြုလုပ်လိုပါက၊ သင်ရရှိရန် [DNS Cloud ၏ အခမဲ့ပထဝီဝင်ပုံရိပ်](https://support.huaweicloud.com/usermanual-dns/dns_usermanual_0041.html) နှင့် [Cloudflare for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas) ၏ စိတ်ကြိုက်ဒိုမိန်းအမည် (အောက်တွင်ဖော်ပြထားသည့်အတိုင်း) ကို အသုံးပြုနိုင်ပါသည်။ ယာဉ်အသွားအလာလွှဲခြင်း── တရုတ်ပြည်မကြီးရှိ Baidu Cloud တွင် Traffic routing `CDN` , international traffic သည် cloudflare .

![](https://p.3ti.site/1721119788.avif)

ဤအသုံးချမှု ပိုမိုကောင်းမွန်အောင်ပြုလုပ်ခြင်းဖြေရှင်းနည်းများသည် ပိုမိုရှုပ်ထွေးပြီး အနာဂတ်တွင် သီးခြားအခန်းများတွင် မိတ်ဆက်သွားပါမည်။

### ယေဘူယျ ဒိုမိန်းအမည် ပြန်ညွှန်းခြင်း

သင့်ပင်မဝဘ်ဆိုဒ်အဖြစ် ဝဘ်ဆိုဒ်တစ်ခုထုတ်လုပ်ရန် `i18n.site` အသုံးပြုပါက၊ သင်သည် အများအားဖြင့် pan-domain redirection ကို configure လုပ်ရန်လိုအပ်သည်၊ ဆိုလိုသည်မှာ၊ `*.xxx.com` ( `www.xxx.com` အပါအဝင်) မှ `xxx.com` သို့ ဝင်ရောက်ခွင့်ကို ပြန်ညွှန်းရန် လိုအပ်ပါသည်။

Alibaba Cloud `CDN` `EdgeScript` ( [အင်္ဂလိပ်စာရွက်စာတမ်း](https://www.alibabacloud.com/help/en/cdn/developer-reference/how-edgescript-works) / [Chinese document](https://help.aliyun.com/zh/cdn/developer-reference/edgescript) ) ၏အကူအညီဖြင့် ဤလိုအပ်ချက်ကို အောင်မြင်နိုင်သည် ။

[CDN Cloud](https://cdn.console.aliyun.com/domain/list) တွင် ဒိုမိန်းအမည်ကို ထည့်သွင်းပြီး Alibaba Cloud `CDN` တွင် ဒိုမိန်းအမည် `*.xxx.com` `CNAME` ညွှန်ပါ။

![](https://p.3ti.site/1721122000.avif)

ဥပမာအားဖြင့်၊ အထက်ပုံတွင်ရှိ `*.i18n.site` ၏ pan-domain name redirection configuration သည် အောက်ပါအတိုင်းဖြစ်သည်-

```
rewrite(concat('https://i18n.site',$uri), 'redirect',301)
```

![](https://p.3ti.site/1721121934.avif)

### nginx ဖြင့် အသုံးပြုပါ။

nginx `server` `/root/i18n/md/out/main/htm` `out/main/htm`

```
location / {
  root  /root/i18n/md/out/main/htm;
  add_header Cache-Control "max-age=9999999";
  if ($uri !~* \.(avif|css|html|ico|js|json|png|svg|txt|webmanifest|xml)$) {
     rewrite ^ /index.html last;
  }
}
```

## `github action` ကို အခြေခံ၍ စဉ်ဆက်မပြတ် ပေါင်းစည်းခြင်း၊

သင်၏ `github action` configure လုပ်ရန် အောက်ပါတို့ကို ကိုးကားနိုင်ပါသည်။

```
name: i18n.site

on:
  workflow_dispatch:
  push:
    branches:
      - main
      - dist

jobs:
  i18n:

    permissions:
      repository-projects: write
      contents: write

    runs-on: ubuntu-latest

    steps:
      - name: checkout
        uses: actions/checkout@v4

      - name: https://i18n.site
        uses: i18n-site/github-action-i18n.site@main
        with:
          I18N_SITE_TOKEN: ${{ secrets.I18N_SITE_TOKEN }}
          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
```

ဖွဲ့စည်းမှုတွင်တွေ့နိုင်သည်အတိုင်း၊ branch `main` နှင့် branch `dist` သို့တွန်းသောအခါ ဤလုပ်ငန်းအသွားအလာကို အစပျိုးသည်။

အလုပ်အသွားအလာသည် စာရွက်စာတမ်းထုတ်ဝေရန် ဌာနခွဲအမည်နှင့် သက်ဆိုင်သည့် ဖွဲ့စည်းမှုဖိုင်ကို အသုံးပြုမည်ဖြစ်ပြီး၊ ဤနေရာတွင် `.i18n/htm/main.yml` နှင့် `.i18n/htm/dist.yml` ကို ထုတ်ဝေမှုပုံစံအဖြစ် အသီးသီးအသုံးပြုမည်ဖြစ်သည်။

စာရွက်စာတမ်းထုတ်လွှတ်ခြင်းလုပ်ငန်းစဉ်အတွက် အောက်ပါအကောင်းဆုံးအလေ့အကျင့်များကို ကျွန်ုပ်တို့ အကြံပြုအပ်ပါသည်။

အပြောင်းအလဲများကို ဌာနခွဲ `main` သို့ တွန်းပို့သောအခါ၊ စာရွက်စာတမ်းကို တည်ဆောက်ပြီး အကြိုကြည့်ရှုသည့်နေရာသို့ ဖြန့်ကျက်ထားရန် တွန်းအားပေးသည် (အကြိုကြည့်ရှုသည့်နေရာ [github page](//pages.github.com) )။

အစမ်းကြည့်ရှုသည့်ဆိုက်တွင် စာရွက်စာတမ်းမှန်ကန်ကြောင်း အတည်ပြုပြီးနောက်၊ ကုဒ်ကို ပေါင်းစည်းပြီး ဘဏ်ခွဲ `dist` သို့ တွန်းပို့မည်ဖြစ်ပြီး တရားဝင်တည်ဆောက်မှုနှင့် အသုံးချမှုကို အွန်လိုင်းတွင် အသုံးပြုနိုင်မည်ဖြစ်သည်။

ဟုတ်ပါတယ်၊ အထက်ဖော်ပြပါ လုပ်ငန်းစဉ်ကို အကောင်အထည်ဖော်ရာတွင် ပိုမိုဖွဲ့စည်းပုံများကို ရေးသားရန် လိုအပ်ပါသည်။

အလုပ်အသွားအလာ scripting အတွက် အမှန်တကယ် ပရောဂျက်ကို ကိုးကားနိုင်သည် [github.com/fcdoc/doc](//github.com/fcdoc/doc/blob/main/.github/workflows/i18n.site.yml)

ပြင်ဆင်သတ်မှတ်မှုတွင် `secrets.I18N_SITE_TOKEN` နှင့် `secrets.NPM_TOKEN` သင့်အား ကုဒ်အခြေခံရှိ လျှို့ဝှက်ကိန်းရှင်များကို ပြင်ဆင်သတ်မှတ်ရန် လိုအပ်သည်။

![](//p.3ti.site/1730970199.avif)

`I18N_SITE_TOKEN` ယူလိုက်ပါ [i18n.site/token](//i18n.site/token)

`NPM_TOKEN` သည် စီစဉ်သတ်မှတ်မှုတွင် ပက်ကေ့ဂျ် `npm` ၏ ထုတ်ဝေခြင်းဆိုင်ရာ တိုကင်နံပါတ်ဖြစ်ပြီး ထုတ်ဝေခြင်းဆိုင်ရာ ခွင့်ပြုချက်များပါရှိသော တိုကင်တစ်ခုကို ဖန်တီးပါ [npmjs.com](//npmjs.com)

![](//p.3ti.site/1730969906.avif)


## လမ်းညွှန်ဖွဲ့စည်းပုံ

### `public`

`favicon.ico` ၊ `robots.txt` စသည်တို့ကဲ့သို့သော ဝဘ်ဆိုက်၏ တည်ငြိမ်သောဖိုင်များ

ဤနေရာတွင် အိုင်ကွန်ဖိုင်များကို ထုတ်ပေးနိုင်သည် [realfavicongenerator.net](https://realfavicongenerator.net)

### `.i18n`

`.i18n` လမ်းညွှန်အောက်တွင် `i18n.site` ၏ ဖွဲ့စည်းမှုဖိုင်များ၊ ဘာသာပြန်ချက် ကက်ရှ်များ စသည်တို့ဖြစ်သည်။ အသေးစိတ်အတွက် နောက်အခန်း ["ဖွဲ့စည်းမှု"](/i18n.site/conf) ကို ကြည့်ပါ။

### `en`

အရင်းအမြစ်ဘာသာစကားလမ်းညွှန်၊ `.i18n/conf.yml` တွင် `fromTo` မှ `en` နှင့် သက်ဆိုင်သော ဖွဲ့စည်းမှုပုံစံဖိုင်

```yaml
i18n:
  fromTo:
    en: zh
```

ဘာသာပြန်ခြင်း၏ဖွဲ့စည်းပုံကိုကိုးကားပါ [i18](/i18/use)