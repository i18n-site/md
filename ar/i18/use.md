# التثبيت والاستخدام

## يقوم Windows أولاً بتثبيت git bash

windows ، الرجاء [الضغط هنا لتحميل وتثبيت `git bash` أولا](https://git-scm.com/download/win) .

قم بتشغيل العمليات اللاحقة في `git bash` .

## ثَبَّتَ

```sh
bash <(curl -sS https://i.i18n.site) i18
```

### تكوين رمز الترجمة

قم بالزيارة [i18n.site/token](//i18n.site/token) انقر لنسخ الرمز المميز

<img src="https://p.3ti.site/1719911689.avif" style="width:400px">

أنشئ `~/.config/i18n.site.yml` ، والصق المحتوى المنسوخ فيه، ويكون المحتوى كما يلي:

```
token: YOUR_API_TOKEN
```

بالإضافة إلى ذلك، تحتاج إلى ربط بطاقة ائتمان الدفع [i18n.site/payBill](//i18n.site/payBill) (لا يلزم إعادة الشحن، وسيخصم الموقع الرسوم تلقائيًا وفقًا للاستخدام، [راجع الصفحة الرئيسية لمعرفة التسعير](/#price) ).

## يستخدم

### مشروع تجريبي

يرجى الرجوع إلى المشروع [github.com/i18n-site/demo.i18](//github.com/i18n-site/demo.i18) لمعرفة تكوين `i18` ترجمة.

يمكن للمستخدمين في الصين استنساخ [atomgit.com/i18n/demo.i18](//atomgit.com/i18n/demo.i18)

بعد الاستنساخ، أدخل الدليل وقم بتشغيل `i18` لإكمال الترجمة.

### هيكل الدليل

هيكل دليل مستودع القالب هو كما يلي

```
┌── .i18n
│  └── conf.yml
└── en
   ├── _IgnoreDemoFile.md
   ├── i18n.yml
   └── README.md
```

تعد الملفات التجريبية المترجمة في الدليل `en` مجرد مثال ويمكن حذفها.

### تشغيل الترجمة

أدخل الدليل وقم بتشغيل `i18` للترجمة.

بالإضافة إلى الترجمة، سيقوم البرنامج أيضًا بإنشاء المجلد `.i18n/data` ، يرجى إضافته إلى المستودع.

بعد ترجمة الملف الجديد، سيتم إنشاء ملف بيانات جديد في هذا الدليل، تذكر إلحاق `git add . ` .

## ملف التكوين

`.i18n/conf.yml` هو ملف التكوين الخاص بأداة ترجمة سطر الأوامر `i18`

المحتوى هو كما يلي:

```
i18n:
  fromTo:
    en: zh ja ko de fr
    # en:

ignore:
  - _*
```

### لغة المصدر &

في ملف التكوين، تابع `fromTo` :

`en` هي اللغة المصدر، `zh ja ko de fr` هي اللغة المستهدفة للترجمة.

رمز اللغة انظر [i18n.site/i18/LANG_CODE](https://i18n.site/i18/LANG_CODE)

على سبيل المثال، إذا كنت تريد ترجمة اللغة الصينية إلى الإنجليزية، فأعد كتابة هذا السطر `zh: en` .

إذا كنت تريد الترجمة إلى جميع اللغات المدعومة، فيرجى ترك الحقل فارغًا بعد `:` . على سبيل المثال

```
i18n:
  fromTo:
    en:
```

يمكنك تكوين `fromTo` مختلف : فرعية مختلفة /

```
i18n:
  fromTo:
    en:
  path:
    blog:
      fromTo:
        zh:
    blog/your_file_name.md:
      fromTo:
        ja:
```

في جدول التكوين هذا، اللغة المصدر لترجمة الكتالوج `blog` هي `zh` ، واللغة المصدر لترجمة الكتالوج `blog/your_file_name.md` هي `ja` .

### صور/روابط متعددة اللغات

عندما يتم تكوين عناوين URL الموجودة في الصور والروابط في `replace:` و `MarkDown` (والسمات `src` و `href` الخاصة بـ `HTML` المضمنة) في `.i18n/conf.yml` بهذه البادئة، سيتم استبدال رمز اللغة المصدر في عنوان URL برمز لغة الترجمة ( [اللغة قائمة الكود](/i18/LANG_CODE) ).

على سبيل المثال، التكوين الخاص بك هو كما يلي:

```yml
i18n:
  fromTo:
    fr: ko de en zh zh-TW uk ru ja
  replace:
    https://fcdoc.github.io/img/ : ko de uk>ru zh-TW>zh >en
```

`replace: ` عبارة عن قاموس، والمفتاح هو بادئة URL المراد استبدالها، والقيمة هي قاعدة الاستبدال.

معنى استبدال القاعدة `ko de uk>ru zh-TW>zh >en` أعلاه هو أن `ko de` يستخدم صورة رمز اللغة الخاص بهم، `zh-TW` و `zh` يستخدم صورة `zh` ، `uk` يستخدم صورة `ru` ، واللغات الأخرى (مثل `ja` ) تستخدم الصورة من `en` بشكل افتراضي.

على سبيل المثال، الملف المصدر الفرنسي ( `fr` ) ذو القيمة `MarkDown` هو كما يلي :

```md
![xx](https://i18n-img.github.io/fr/1.avif)
<video src="https://i18n-img.github.io/fr/1.mp4"></video>
[xx](https://i18n-img.github.io/fr/README.md)
<a style="color:red" href="https://i18n-img.github.io/fr/i18n.site.gz">xx</a>
```

الملف الإنجليزي المترجم والمولد ( `en` ) هو كما يلي :

```md
![xx](https://i18n-img.github.io/en/1.avif)
<video src="https://i18n-img.github.io/en/1.mp4"></video>
[xx](https://i18n-img.github.io/en/README.md)
<a style="color:red" href="https://i18n-img.github.io/en/i18n.site.gz">xx</a>
```

هنا، يتم استبدال `/en/` في كود اللغة المصدر بالرقم `/zh/` في اللغة الهدف.

ملاحظة : يجب أن يكون هناك `/` قبل وبعد رمز اللغة للنص المستبدل في عنوان URL.

> [!TIP]
> إذا تم تكوين `- /` في `url:` ، فستتم مطابقة المسارات النسبية فقط، ولكن لن تتم مطابقة عناوين URL التي تبدأ بـ `//` .
>
> إذا كانت بعض روابط اسم النطاق تريد استبدالها والبعض الآخر لا يريد استبدالها، فيمكنك استخدام بادئات مختلفة مثل `[x](//x.com/en/)` و `[x](https://x.com/en/)` للتمييز بينها.

### تجاهل الملف

افتراضيًا، سيتم ترجمة كافة الملفات التي تبدأ بالرقم `.md` و `.yml` في دليل اللغة المصدر.

إذا كنت تريد تجاهل ملفات معينة وعدم ترجمتها (مثل المسودات غير المكتملة)، فيمكنك تكوينها باستخدام الحقل `ignore` .

`ignore` يستخدم نفس بناء [globset](https://docs.rs/globset/latest/globset/#syntax) مثل الملف `.gitignore` .

على سبيل المثال، `_* ` في ملف التكوين أعلاه يعني أن الملفات التي تبدأ بالرقم `_` لن تتم ترجمتها.

## قواعد الترجمة

### لا ينبغي لمحرري الترجمة إضافة أو حذف الأسطر

الترجمة قابلة للتعديل. قم بتعديل النص الأصلي وترجمته آليًا مرة أخرى، ولن يتم استبدال التعديلات اليدوية على الترجمة (إذا لم يتم تعديل هذه الفقرة من النص الأصلي).

> [!WARN]
> يجب أن يكون هناك تطابق واحد لواحد بين سطور الترجمة والنص الأصلي. أي لا تضيف أو تحذف أسطرًا عند تجميع الترجمة. وإلا، فسيؤدي ذلك إلى حدوث ارتباك في ذاكرة التخزين المؤقت لتحرير الترجمة.

إذا حدث خطأ ما، يرجى الرجوع إلى [الأسئلة الشائعة للحصول على الحلول.](/i18/qa#H1)

### `YAML` ترجمة

ستقوم أداة سطر الأوامر بالعثور على جميع الملفات التي تنتهي بالرقم `.yml` في دليل ملفات اللغة المصدر وترجمتها.

* لاحظ أن لاحقة اسم الملف يجب أن تكون `.yml` (وليس `.yaml` ).

تقوم الأداة فقط بترجمة قيم القاموس في `.yml` ، وليس مفاتيح القاموس.

على سبيل المثال `i18n/en/i18n.yml`

```
apiToken: API Token
defaultToken: Default Token
```

سيتم ترجمتها كـ `i18n/zh/i18n.yml`

```
apiToken: 接口令牌
defaultToken: 默认令牌
```

يمكن أيضًا تعديل ترجمة `YAML` يدويًا (ولكن لا تقم بإضافة أو حذف مفاتيح أو أسطر في الترجمة).

استنادًا إلى `YAML` ترجمة، يمكنك بسهولة إنشاء حلول دولية لمختلف لغات البرمجة.

## الاستخدام المتقدم

### دليل فرعي للترجمة

طالما تم إنشاء `.i18n/conf.yml` (لا حاجة للبدء من قالب المشروع التجريبي في كل مرة)، فإن `i18` سيعمل بشكل جيد.

سوف تجد أداة سطر الأوامر `.i18n/conf.yml` تكوينات في جميع الدلائل الفرعية وتترجمها.

يمكن للمشاريع التي تستخدم البنية [monorepo](//monorepo.tools) تقسيم ملفات اللغة إلى أدلة فرعية.

![](https://p.3ti.site/1719910016.avif)

### دليل التثبيت المخصص

سيتم تثبيته على `/usr/local/bin` بشكل افتراضي.

إذا لم يكن لدى `/usr/local/bin` إذن كتابة، فسيتم تثبيته على `~/.bin` .

يمكن أن يؤدي تعيين متغير البيئة `TO` إلى تحديد دليل التثبيت، على سبيل المثال :

```sh
TO=/bin sudo bash <(curl -sS https://i.i18n.site) i18
```